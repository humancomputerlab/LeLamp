# LeLamp Troubleshooting Guide

This guide covers common issues encountered during LeLamp assembly and operation, with step-by-step solutions.

## Hardware Issues

### Pi Setup Problems

**Problem**: Cannot SSH into Pi

- **Check network connection**: Verify Pi is connected to WiFi
- **Verify SSH enabled**: Ensure SSH was enabled during OS setup
- **Check hostname**: Try IP address instead of hostname.local
- **Firewall issues**: Temporarily disable computer firewall for testing

**Problem**: Runtime installation fails

- **Check internet connection**: Ensure Pi has stable internet access
- **Update system**: Run `sudo apt update && sudo apt upgrade` first
- **Install uv manually**: Follow official uv installation instructions
- **Check disk space**: Ensure sufficient space on SD card (16GB+ recommended)

**Problem**: Permission errors during testing

- **Use sudo for hardware tests**: RGB and some sensor tests require root access
- **Check user groups**: Add pi user to gpio, i2c, spi groups
- **Verify device permissions**: Check /dev/ device file permissions

**Problem**: Change Wifi

- **Use Ethernet**: Connect your Pi to ethernet, ssh into it. Run `sudo ...
- **Share a hotspot with same name and password as old wifi**: ...
- **SD Card** (unreliable);

## Diagnostic Commands

### System Health Checks

```bash
# Check system resources
free -h
df -h
vcgencmd get_throttled

# Check hardware interfaces
lsusb
i2cdetect -y 1
gpio readall

# Test camera
libcamera-hello --timeout 2000

# Check audio devices
aplay -l
arecord -l
```

### Servo Diagnostics

```bash
# Find servo driver port
uv run lerobot-find-port

# Test servo connectivity
uv run -m lelamp.test.test_motors --id lelamp --port /dev/ttyUSB0

# Manual servo control (replace port)
uv run -m lelamp.control --id lelamp --port /dev/ttyUSB0
```

### Network and Software

```bash
# Check network connectivity
ping google.com
ip addr show

# Verify Python environment
which uv
uv --version
python3 --version

# Check service status
systemctl status ssh
systemctl status networking
```

## Getting Additional Help

### Before Asking for Help

1. **Check this troubleshooting guide** thoroughly
2. **Search existing GitHub issues** for similar problems
3. **Collect diagnostic information** using commands above
4. **Take clear photos** of your setup if hardware-related

### Where to Get Help

- **GitHub Issues**: https://github.com/humancomputerlab/le_lamp/issues
- **Discord Community**: https://discord.gg/4hmNW3Ep
- **LeLamp Runtime Issues**: https://github.com/humancomputerlab/lelamp_runtime/issues

### What Information to Include

- **Problem description**: Clear, specific description of the issue
- **Steps to reproduce**: Exact sequence that leads to the problem
- **Error messages**: Complete error text, not screenshots of text
- **System information**: Pi model, OS version, hardware configuration
- **Photos**: Clear images of your setup for hardware issues

## Component Testing Order

When diagnosing issues, test components in this order:

1. **Power supply**: Verify voltage and current capacity
2. **Individual servos**: Test each servo separately
3. **Servo driver**: Verify communication and control
4. **Pi connectivity**: Ensure SSH and basic operation
5. **Individual sensors**: Camera, microphone, speakers separately
6. **Integrated systems**: Full lamp operation

This systematic approach helps isolate problems and avoid cascading failures.

---

**Previous**: [LeLamp Control](./5.%20LeLamp%20Control.md)
